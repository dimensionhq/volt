!(function (t) {
  const e = (t) => new Promise((e) => setTimeout(e, t));
  t.fn.typeWrite = function (s) {
    var r = t.extend({ speed: 50, repeat: !1, cursor: !0, color: "black" }, s);
    return this.each(async function () {
      var s = t(this).text();
      (letters = s.split("")),
        t(this).text(""),
        t(this).css("color", r.color),
        t(this).css("margin", "0px");
      for (var i = letters[0]; 1 == r.repeat; ) {
        for (let s = 0; s < letters.length; s++)
          1 == r.cursor
            ? void 0 !== letters[s + 1]
              ? (t(this).text(i),
                t("#cursor").remove(),
                t(this).append("<span id='cursor'>︳</span>"),
                t("#cursor").css("animation", "blink 1s infinite"),
                (i += letters[s + 1]),
                await e(r.speed))
              : (t(this).text(i),
                t("#cursor").remove(),
                t(this).append("<span id='cursor'>︳</span>"),
                (i += letters[s]),
                await e(r.speed))
            : void 0 !== letters[s + 1]
            ? (t(this).text(i), (i += letters[s + 1]), await e(r.speed))
            : (t(this).text(i), (i += letters[s]), await e(r.speed));
        console.log("Clearing text"), t(this).text(""), (i = letters[0]);
      }
      for (let s = 0; s < letters.length; s++)
        1 == r.cursor
          ? void 0 !== letters[s + 1]
            ? (t(this).text(i),
              t("#cursor").remove(),
              t(this).append("<span id='cursor'>︳</span>"),
              t("#cursor").css("animation", "blink 1s infinite"),
              (i += letters[s + 1]),
              await e(r.speed))
            : (t(this).text(i),
              t("#cursor").remove(),
              t(this).append("<span id='cursor'>︳</span>"),
              (i += letters[s]),
              await e(r.speed))
          : void 0 !== letters[s + 1]
          ? (t(this).text(i), (i += letters[s + 1]), await e(r.speed))
          : (t(this).text(i), (i += letters[s]), await e(r.speed));
    });
  };
})(jQuery);
